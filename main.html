<html>
	<head>
		<title>SAP LINKS</title>
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" 
		integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" 
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" 
		integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/fontawesome.min.css">

		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
		
		<!-- Include JS Files -->
		<!-- <script src="data.js"></script> -->
		<script src="script.js"></script>

		<!-- Include CSS File -->
		<link rel="stylesheet" type="text/css" href="style.css">
		

		<script>

			/* Parsing JS File with variable as JS object*/
			// function processData(heading) {
			
			// 	/* Remove previous content loaded inside #cont id div */
			// 	document.getElementById("cont").innerHTML = "";
			
			// 	/* Create an element for every heading(stop/start, faaltu_cheeze, client copy) inside tab */
			// 	for(let head in dat[heading]) {
					
			// 		/* Create button for copy content */
			// 		var headString = '\"'+head+'\"'
			// 		var copyBtn = document.createElement("button");
			// 		copyBtn.setAttribute("class","btn btn-sm");
			// 		copyBtn.setAttribute("id",heading);
			// 		copyBtn.setAttribute("onclick","copyText("+headString+")");		/* Passing "head" coz it's id of pre element */
			// 		copyBtn.innerHTML = "Copy Text";
					
			// 		/* Creating element <div> to display content */
			// 		var div = document.createElement("div");
			// 		div.setAttribute("class","pre-text");
			// 		div.innerHTML = `<pre class="block-content ${heading}" id="${head}">${dat[heading][head]}</pre>
			// 						<button class="btn btn-sm btn-outline-info copy-text" id="copyText" onclick="copyToClipboard('${head}')">Copy Text</button>`
					
					
			// 		/* Add pre elements to the #cont id div. */
			// 		document.getElementById("cont").innerHTML += div.outerHTML;
					
					
			// 		//var pre = document.createElement("pre");
			// 		//pre.setAttribute("class","block-content "+heading);
			// 		//pre.setAttribute("id",head);
			// 		//pre.innerHTML = dat[heading][head];
					
			// 		///* Adding this newly created pre element in #preText div id */
			// 		//document.getElementById("preText").innerHTML += pre.outerHTML;

			// 		///* Add newly created button in #copyText div id */
			// 		//document.getElementById("copyText").innerHTML += copyBtn.outerHTML;
					
			// 	}	
			// }

		</script>
	</head>

	<body>
		<nav class="navbar navbar-expand-lg navbar-dark navbar-fixed-top" style="background-color: #5c85d6">
		
			<!-- Brand Logo -->
			<a class="navbar-brand">
				<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/SAP-Logo.svg/1200px-SAP-Logo.svg.png" width="60px" height="30px">
			</a>
			
			<!-- Top Navigation Bar -->
			<ul class="navbar-nav">
				<li class="nav-item active">
					<a class="nav-link" href="#">NOTES</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" target="_blank" 
					href="https://spc.ondemand.com/sap/public/ap/ui/repository/SAP_UI/HTMLOBERON5/client.html?app.component=/SAP_UI_CT/Main/root.uiccwoc&rootWindow=X&redirectUrl=/sap/public/byd/runtime#n=eyJpblBvcnQiOiIiLCJ0YXJnZXQiOiIvQTFTX1NQQy9JbmNpZGVudC9UaWNrZXQvVGlja2V0V29ya0NlbnRlclZpZXcuV0NWSUVXLnVpd29jdmlldyIsInBhcmFtcyI6e30sImxpc3RzIjp7fSwid2NDb250ZXh0Ijp7IndvY0lkIjoiL0ExU19TUEMvV29ya0NlbnRlci9Nb25pdG9yaW5nX1dDRi5XQ0YudWl3b2MiLCJ2aWV3SWQiOiIvQTFTX1NQQy9JbmNpZGVudC9UaWNrZXQvVGlja2V0V29ya0NlbnRlclZpZXcuV0NWSUVXLnVpd29jdmlldyIsInN0YXRzSXNDb21tb25UYXNrIjpmYWxzZSwiaXNOYXZOb2RlIjpmYWxzZSwibmF2Tm9kZVRleHQiOiIifX0%3D">OPEN SPC</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#" onclick="openTicket()"><i class="fas fa-clipboard-list"></i>&nbsp;	OPEN TICKET</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#" onclick="openSapNote()">OPEN SAP NOTE</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#" onclick="addSapNote()">ADD SAP NOTE</a>
				</li>
			</ul>
			
		</nav>
		
		<div class="container-fluid">
			<div class="row">
				
				<div class="col-sm-2 border">

					<!-- Input button to edit category -->
					<div class="input-group" id="editInputDiv">
						<input type="text" class="form-control">
						<div class="input-group-append">
						  <button class="btn btn-success" type="button" style="margin: 0;"><i class="fas fa-check"></i></button>
						  <button class="btn btn-danger" type="button" style="margin: 0;" id="closeInputBtn"><i class="fas fa-times"></i></button>
						</div>
					</div>
					<!-- Button to delete category -->
					<div class="input-group" id="deleteInputDiv">
						<input type="text" class="form-control" value="Are you sure?" disabled>
						<div class="input-group-append">
						  <button class="btn btn-success" type="button" style="margin: 0;"><i class="fas fa-check"></i></button>
						  <button class="btn btn-danger" type="button" style="margin: 0;" id="closeDeleteBtn"><i class="fas fa-times"></i></button>
						</div>
					</div>
					<div class="btn-group btn-group-sm d-flex" role="group" aria-label="edit-cancel buttons">
						<button type="button" class="btn btn-outline-success w-100" id="editCategory">Edit</button>
						<button type="button" class="btn btn-outline-danger w-100" id="deleteCategory">Delete</button>
					</div>

					<!-- Div to show loading button -->
					<div class="loader" id="loaderDiv"></div>
					
					<div id="categorySideBar"></div>
				</div>
				<div class="col-sm-8 border">
					<!-- <button class="btn btn-outline-info btn-block" onclick="getCategory()">Get Data</button> -->
					<!-- <div class="upload-file" id="uploadFile">
						<input type="file" name="firebaseFile" id="fileInput" class="btn btn-outline-primary">
						<input type="submit" name="submitFile" class="btn btn-outline-primary" onclick="uploadFile()"> 
					</div> -->
					<div class="content" id="cont">
						<!-- Add contents comes here. --> 
					</div>

					<!-- Form for adding notes -->
					<div id="addSapNote" style="display: none;">
						<div class="form-heading">
							<h2>ADD NOTES</h2>
						</div>
							<div class="form-group">
								<label for="noteCategory" class="control-label">Choose Category:</label>
								<button class="btn btn-sm btn-outline-primary" style="float: right;" data-toggle="modal" data-target="#categoryModal">Add Category</button>	
								<select id="noteCategory" class="form-control">
									<option value=""> -- Select Category -- </option>
								</select>
							</div>
							<div class="form-group">
								<label for="noteHeading" class="control-label">Enter Heading:</label>
								<input type="text" name="noteHeading" id="noteHeading" class="form-control" maxlength="50">
							</div>	
							<div class="form-group">
								<label for="noteDescription" class="control-label">Enter Note Description:</label>
								<textarea class="form-control" id="noteDescription"></textarea>
							</div>
							<div class="form-group">
								<label for="additionalInfo" class="control-label">Enter Additional Info (Not Mandatory):</label>
								<input type="text" name="additionalInfo" id="additionalInfo" class="form-control" maxlength="100">
							</div>
							<button class="btn btn-block btn-outline-success" id="submitNote" onclick="validateAddNoteForm()">SUBMIT</button>
					</div>


					<!-- Modal for Category Form -->

					<div id="categoryModal" class="modal fade" role="dialog">
						<div class="modal-dialog">
							
							<!-- Content -->
							<div class="modal-content">
								<div class="modal-header">
									<h3>Add Category</h3>
								</div>
								<div class="modal-body">
									<div class="form-group">
										<label for="categoryName">Enter Category Name:</label>
										<input type="text" name="categoryName" id="categoryName" class="form-control">
									</div>
									<div class="form-group">
										<label for="categoryDescription">Enter Category Description:</label>
										<input type="text" name="categoryDescription" id="categoryDescription" class="form-control">
									</div>
								</div>
								<div class="modal-footer">
									<button class="btn btn-outline-success" onclick="pushCategory()" data-dismiss="modal">Submit</button>
									<button class="btn btn-outline-danger" data-dismiss="modal">Cancel</button>
								</div>
							</div>
						</div>
					</div><!-- End of category Modal -->


					<!-- Modal for change Note Form -->

					<div id="changeNoteModal" class="modal fade" role="dialog" noteId="">
						<div class="modal-dialog modal-xl">
							
							<!-- Content -->
							<div class="modal-content">
								<div class="modal-header">
									<h3>Change NOTE</h3>
								</div>
								<div class="modal-body">
									<div class="form-group">
										<label for="changeNoteHeading">Change NOTE Heading:</label>
										<input type="text" name="changeNoteHeading" id="changeNoteHeading" class="form-control">
									</div>
									<div class="form-group">
										<label for="changeNoteDescription">Change NOTE Description:</label>
										<textarea class="form-control" style="height: 200px;" name="changeNoteDescription" id="changeNoteDescription"></textarea>
										<!-- <text type="text" name="changeNoteDescription" id="changeNoteDescription" class="form-control"> -->
									</div>
								</div>
								<div class="modal-footer">
									<button class="btn btn-outline-success" onclick="validateChangeNote()">Apply Changes</button>
									<button class="btn btn-outline-danger" data-dismiss="modal">Cancel</button>
								</div>
							</div>
						</div>
					</div><!-- End of change Note Modal -->

				</div>
				<div class="col-sm-2 border">
				</div>
			</div>
		</div>

		<!-- Status Notification -->
		<div class="alert alert-success alert-dismissible status-alert" id="statusAlert" style="display: none;">
			<!-- <a href="#" class="close">&times;</a>
			<div class="alert-text" id="alertText"></div> -->
		</div>

		<!-- FIREBASE -->
		
		<script src="https://www.gstatic.com/firebasejs/7.14.6/firebase.js"></script>
		<script src="firebase.js"></script>
		<script src="changeDOM.js"></script>

		<script>	

			// Used for testing
			function uploadFile() {

				var fileUpload = document.getElementById('fileInput')
				// Validate file upload
				if(fileUpload.files.length == 0)
					alert("No files Selected.");
				else
					var file = fileUpload.files[0]

					// Create storage Reference
					var storageRef = firebase.storage().ref("extra_files/"+file.name)
					
					// Upload file
					storageRef.put(file)

			}

			// Used for testing
			function initialFirebaseData() {
				/* Call this function when you want to replace all firebase database data with initial data. */

				var database = firebase.database();
				firebase.database().ref('sap_notes/').set({
					activities: {
						totalActivities: 5,
						type: [
							{
								meta: {
									id: 1,
									name:"Faaltu Cheeze",
								},
								description:"We acknowledge your request."
							},
							{
								meta: {
									id: 2, 
									name:"Stop/Start",
								},
								description:"Here comes description of stop start."
							}
						]
					},
					typeDetail: {
						allActivityTypes: [
							{
								meta: {
									id: 1,
									name:"Faaltu Cheeze"
								},
								activityNotes: [
									{
										id: 1,
										heading:"Acknowledgement",
										description:"We acknowledge your request and we are happy to help you.",
										additionalNotes:""

									},
									{
										id: 2,
										heading:"Online Backup Template",
										description:"This is online backup template.",
										additionalNotes:""
									}
								]
							},
							{
								meta: {
									id: 2,
									name:"Stop/Start"
								},
								activityNotes: [
									{
										id: 1,
										heading:"ABAP Stop/Start",
										description:"To stop/start ABAP System, use sapcontrol command.",
										additionalNotes:""
									},
									{
										id: 2,
										heading:"JAVA Stop/Start",
										description:"To stop/start JAVA system, use sapcontrol command.",
										additionalNotes:""
									}
								]
							}
						]
					}
				});

				txt = document.getElementById('mytextarea').value;
				if(txt == null || txt == "")
					alert("Please add some text.")
				else {
					alert("Your text: "+txt);
					// Add text in data.js file 

					dat["ss"]["ss_abap"] = txt;
				}

			}

			// Used for testing
			function updateFirebaseDatabase() {
				var database = firebase.database();
				firebase.database().ref('sap_notes/typeDetail/allActivityTypes/2/').set({
					meta: {
						id: 3,
						name:"Upgrades"
					},
					activityNotes: [
						{
							id: 1,
							heading:"Bobj Upgrade",
							description:"This description is for Bobj Upgrade",
							additionalNotes:""

						},
						{
							id: 2,
							heading:"Kernel Upgrade",
							description:"This description is for kernel Upgrade",
							additionalNotes:""
						}
					]
				})
			}

		</script>

	</body>
</html>